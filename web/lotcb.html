<!DOCTYPE html>
<html>
<head>
    <title>Poly Land</title>
    <link rel="stylesheet" type="text/css" href="website.css">
    <script src="legendOfTheCardGame.js"></script>
    <script src="legendOfTheCrackBear.js"></script>
    <script src="mainmenuLOTCB.js"></script>
    <script src="literatureLOTCB.js"></script>
    <script src="adventurerLOTCB.js"></script>
    <script src="gameloopLOTCB.js"></script>
    <script src="projectilesLOTCB.js"></script>
    <script src="magicLOTCB.js"></script>
    <script src="itemsLOTCB.js"></script>
    <script src="unitsLOTCB.js"></script>
    <script src="sceneryLOTCB.js"></script>
    <script src="barriersLOTCB.js"></script>
    <script src="otherLOTCB.js"></script>
    <script src="worldbuilderLOTCB.js"></script>
    <script src="cheatsLOTCB.js"></script>
    <script src="datahandlingLOTCB.js"></script>
</head>
<body onload="legendaryPrerequisites()" style="background-color: slategrey">
<img onclick="goToMain()" style="width: 28px; height: 28px;" src="https://maxcdn.icons8.com/Share/icon/Arrows//angle_left1600.png"/>
<p></p>
<p style="margin: auto; text-align: center;"><canvas style="border: 3px dotted black" height="550" width="1400" id="bearPawBravo"></canvas></p>
<p style="margin: auto; text-align: center;"><canvas style="border: 3px dotted black" height="80" width="1400" id="bearPawAlpha"></canvas></p>
<textarea id="drop_zone">Upload Savefile Here</textarea>
<script>
    function handleFileSelect(evt) {
        evt.stopPropagation();
        evt.preventDefault();

        //var keyString; //declared in Legend...
        var files = evt.dataTransfer.files; // FileList object.
        document.getElementById('drop_zone').innerHTML = files[0].name;

        var reader = new FileReader();
        reader.onload = function(event) {
            keyString = event.target.result;
            //console.log(keyString);

            //Loads the game upon uploading the savefile
            theme.pause();
            loadType = "upload";
            gameState = "active";
            load();
            requestAnimationFrame(gameloopOfDestiny, CCC);
        }
        reader.readAsText(files[0],"UTF-8");
    }

    function handleDragOver(evt) {
        evt.stopPropagation();
        evt.preventDefault();
        evt.dataTransfer.dropEffect = 'copy'; // Explicitly show this is a copy.
    }

    // Setup the dnd listeners.
    var dropZone = document.getElementById('drop_zone');
    dropZone.addEventListener('dragover', handleDragOver, false);
    dropZone.addEventListener('drop', handleFileSelect, false);
</script>
</body>
</html>